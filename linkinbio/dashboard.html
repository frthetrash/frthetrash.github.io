<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LinkDash Dashboard</title>
  <meta name="viewport" content="width=1200">
  <link rel="icon" href="https://raw.githubusercontent.com/frthetrash/frthetrash.github.io/refs/heads/main/png.png">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <style>
    :root {
      --sidebar-bg: #182032;
      --sidebar-accent: #3284ff;
      --main-bg: #1c2335;
      --main-card: #223056;
      --editor-bg: #243252;
      --preview-bg: #101522;
      --text-light: #fff;
      --text-muted: #9baec8;
      --input-bg: #1c223a;
      --border: #2a3553;
      --drag: #6a7ba6;
      --delete: #e85c5c;
      --switch-off: #444d68;
      --switch-on: #3284ff;
      --blue: #3284ff;
      --gray: #3d4763;
      --shadow: 0 2px 8px rgba(33, 53, 106, 0.1);
    }
    html, body {
      margin: 0;
      padding: 0;
      background: var(--main-bg);
      font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
      color: var(--text-light);
      height: 100%;
      min-height: 100%;
    }
    body {
      display: flex;
      height: 100vh;
      overflow: hidden;
      min-width: 1200px;
    }
    .sidebar {
      width: 240px;
      background: var(--sidebar-bg);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 0 15px;
      border-right: 1px solid var(--border);
      box-shadow: 2px 0 5px #1016260c;
      position: relative;
    }
    .logo-wrap {
      margin-top: 40px;
      margin-bottom: 40px;
      display: flex;
      align-items: center;
      gap: 12px;
      width: 100%;
      justify-content: center;
    }
    .logo {
      height: 48px;
      width: 48px;
      border-radius: 12px;
      background: #fff;
      object-fit: contain;
      border: 2px solid var(--sidebar-accent);
      box-shadow: 0 0 12px #18203240;
    }
    .logo-label {
      font-size: 1.55rem;
      font-weight: bold;
      color: var(--sidebar-accent);
      letter-spacing: 0.06em;
      white-space: nowrap;
    }
    .nav {
      width: 100%;
      margin-top: 20px;
      flex: 1;
    }
    .nav-item {
      padding: 18px 22px;
      margin: 8px 0;
      background: none;
      color: var(--text-muted);
      border: none;
      width: 100%;
      font-size: 1.11rem;
      border-radius: 10px;
      text-align: left;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 15px;
      transition: background 0.16s;
    }
    .nav-item.active, .nav-item:hover {
      background: var(--main-bg);
      color: var(--sidebar-accent);
    }
    .sidebar-footer {
      margin-bottom: 36px;
      color: var(--text-muted);
      font-size: 0.92em;
      margin-top: 32px;
      opacity: 0.8;
      text-align: center;
      width: 100%;
      padding: 0 10px;
    }
    .main-area {
      flex: 1;
      display: flex;
      align-items: flex-start;
      padding: 45px 0 0 0;
      background: var(--main-bg);
      height: 100%;
      min-width: 960px;
      gap: 36px;
      overflow-x: auto;
    }
    .card {
      background: var(--main-card);
      border-radius: 20px;
      box-shadow: var(--shadow);
      padding: 32px 34px;
      width: 540px;
      margin-left: 40px;
      min-height: 620px;
      display: flex;
      flex-direction: column;
    }
    .card-title {
      font-size: 1.44rem;
      font-weight: 600;
      margin-bottom: 14px;
      color: var(--sidebar-accent);
    }
    .section {
      margin-bottom: 22px;
      padding-bottom: 8px;
      border-bottom: 1px solid var(--border);
    }
    .links-editor {
      display: flex;
      flex-direction: column;
      gap: 7px;
      margin-bottom: 18px;
      width: 100%;
    }
    .link-row {
      display: flex;
      align-items: center;
      background: var(--editor-bg);
      border-radius: 13px;
      margin-bottom: 4px;
      padding: 12px 10px 12px 10px;
      border: 1.5px solid var(--border);
      gap: 10px;
      position: relative;
      transition: box-shadow 0.08s;
    }
    .link-row:focus-within, .link-row:hover {
      border-color: var(--sidebar-accent);
      box-shadow: 0 0 4px 0 #3a87fd54;
    }
    .drag-handle {
      cursor: grab;
      color: var(--drag);
      margin-right: 8px;
      font-size: 1.13em;
      opacity: 0.93;
      user-select: none;
      transition: color 0.13s;
    }
    .drag-handle:active {
      color: var(--sidebar-accent);
    }
    .link-fields {
      flex: 1.87;
      display: flex;
      gap: 9px;
    }
    .link-input {
      background: var(--input-bg);
      color: var(--text-light);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 8px 9px;
      font-size: 0.99em;
      width: 50%;
      transition: border 0.13s;
    }
    .link-input:focus {
      border: 1.5px solid var(--sidebar-accent);
      outline: none;
    }
    .switch {
      display: flex;
      align-items: center;
      cursor: pointer;
      width: 36px;
      height: 24px;
      position: relative;
      margin-left: 7px;
    }
    .switch input { display: none; }
    .slider {
      position: absolute;
      left: 0; top: 0;
      width: 36px; height: 24px;
      border-radius: 12px;
      background: var(--switch-off);
      transition: background 0.15s;
      border: 1.3px solid var(--border);
    }
    .switch input:checked + .slider {
      background: var(--switch-on);
    }
    .slider:before {
      content: "";
      position: absolute;
      left: 4px;
      top: 3.3px;
      width: 16px; height: 16px;
      border-radius: 50%;
      background: #fff;
      transition: transform 0.15s;
    }
    .switch input:checked + .slider:before {
      transform: translateX(12px);
    }
    .delete-btn {
      background: none;
      border: none;
      color: var(--delete);
      font-size: 1.09em;
      margin-left: 10px;
      cursor: pointer;
      padding: 4px 7px;
      transition: color 0.14s;
    }
    .delete-btn:hover {
      color: #fff;
      background: #c53d3d;
      border-radius: 6px;
    }
    .add-link-btn {
      background: var(--sidebar-accent);
      border: none;
      color: #fff;
      border-radius: 9px;
      font-size: 1.08em;
      font-weight: 500;
      padding: 8.5px 22px;
      margin-top: 4px;
      align-self: flex-start;
      cursor: pointer;
      margin-bottom: 12px;
      letter-spacing: 0.01em;
      box-shadow: 0 2px 10px #3284ff28;
      transition: background 0.16s;
    }
    .add-link-btn:hover, .add-link-btn:active {
      background: #2165c8;
    }
    .analytics-wrap {
      width: 540px;
      padding: 36px 34px 30px 34px;
      background: var(--main-card);
      border-radius: 20px;
      box-shadow: var(--shadow);
      min-height: 230px;
      margin-left: 40px;
      display: none;
      flex-direction: column;
      gap: 12px;
    }
    .analytics-metrics {
      display: flex;
      gap: 32px;
      margin-bottom: 18px;
    }
    .metric-box {
      background: var(--editor-bg);
      border-radius: 14px;
      padding: 20px 38px;
      min-width: 110px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 3px;
      box-shadow: 0 0 6px #18386622;
    }
    .metric-label {
      font-size: 0.97em;
      color: var(--text-muted);
      letter-spacing: 0.01em;
    }
    .metric-value {
      font-size: 2.05em;
      font-weight: 700;
      color: var(--sidebar-accent);
      margin-top: 4px;
      margin-bottom: 2px;
    }
    .mobile-preview {
      width: 340px;
      min-width: 340px;
      margin-top: 0;
      margin-left: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .phone-frame {
      background: var(--preview-bg);
      border-radius: 38px;
      padding: 24px 0;
      box-shadow: 0 10px 30px #0e18381f, 0 0 0 6px #182032a0 inset;
      width: 320px;
      min-height: 510px;
      margin-left: 0;
      position: relative;
      border: 4px solid var(--border);
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: border-color 0.18s;
    }
    .phone-frame:before {
      content: "";
      display: block;
      position: absolute;
      left: 50%; top: -13px;
      transform: translateX(-50%);
      width: 60px; height: 7px;
      border-radius: 3.7px;
      background: #222a40;
      box-shadow: 0 1px 2px #10152245;
    }
    .preview-logo {
      width: 51px; height: 51px;
      border-radius: 15px;
      margin-bottom: 20px;
      margin-top: 9px;
      border: 2px solid var(--sidebar-accent);
      background: #fff;
      object-fit: cover;
    }
    .preview-link {
      display: block;
      width: 85%;
      margin: 0 auto 17px auto;
      padding: 13px 0;
      background: var(--sidebar-accent);
      border-radius: 14px;
      text-align: center;
      color: #fff;
      font-weight: 550;
      font-size: 1.11em;
      text-decoration: none;
      box-shadow: 0 2px 11px #3284ff40;
      position: relative;
      transition: transform 0.1s, background 0.17s;
      cursor: pointer;
    }
    .preview-link:active, .preview-link:hover {
      background: #2165c8;
      transform: scale(1.03);
    }
    .preview-title {
      color: var(--sidebar-accent);
      text-align: center;
      margin-bottom: 25px;
      font-size: 1.22em;
      font-weight: 600;
    }
    /* Responsive for smaller screens (min-width 1050px needed for layout) */
    @media (max-width: 1300px) {
      .card, .analytics-wrap { margin-left: 12px; }
      .main-area { gap: 18px; }
    }
    @media (max-width: 1050px) {
      body, .main-area { min-width: 930px; }
      .card, .analytics-wrap { width: 400px; min-width: 300px; }
      .mobile-preview, .phone-frame { width: 240px; min-width: 240px; }
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <div class="logo-wrap">
      <img src="https://raw.githubusercontent.com/frthetrash/frthetrash.github.io/refs/heads/main/png.png" class="logo" alt="LinkDash Logo">
      <div class="logo-label">LinkDash</div>
    </div>
    <div class="nav">
      <button class="nav-item active" id="nav-links">
        <i class="fa fa-link"></i> Link Editor
      </button>
      <button class="nav-item" id="nav-analytics">
        <i class="fa fa-chart-line"></i> Analytics
      </button>
    </div>
    <div class="sidebar-footer">
      &copy; 2025 LinkDash<br>All rights reserved.
    </div>
  </div>
  <div class="main-area">
    <!-- Link Editor Card -->
    <div class="card" id="editor-card">
      <div class="card-title"><i class="fa fa-link"></i> Link Editor</div>
      <div class="section">
        <div class="links-editor" id="links-editor"></div>
        <button class="add-link-btn" id="add-link-btn"><i class="fa fa-plus"></i> Add New Link</button>
      </div>
      <div class="section" style="border-bottom:none;">
        <span style="color:var(--text-muted);font-size:1.01em;">Tip: Only <b>active</b> links appear in your public bio. Drag <i class="fa fa-grip-vertical drag-handle" style="margin:0;font-size:1em;vertical-align:-1px;"></i> to reorder.</span>
      </div>
    </div>
    <!-- Analytics Card -->
    <div class="analytics-wrap" id="analytics-card">
      <div class="card-title"><i class="fa fa-chart-line"></i> Analytics</div>
      <div class="analytics-metrics">
        <div class="metric-box">
          <div class="metric-label">Total Clicks</div>
          <div class="metric-value" id="metric-clicks">0</div>
        </div>
        <div class="metric-box">
          <div class="metric-label">Total Views</div>
          <div class="metric-value" id="metric-views">0</div>
        </div>
        <div class="metric-box">
          <div class="metric-label">Click-Through Rate</div>
          <div class="metric-value" id="metric-ctr">0%</div>
        </div>
        <div class="metric-box">
          <div class="metric-label">Followers Gained</div>
          <div class="metric-value" id="metric-followers">0</div>
        </div>
      </div>
      <div style="color:var(--text-muted);margin-top:10px;">* All metrics are live and recalculate instantly as your links update.</div>
    </div>
    <!-- Mobile Live Preview -->
    <div class="mobile-preview">
      <div class="preview-title">Live Mobile Preview</div>
      <div class="phone-frame" id="preview-frame">
        <img src="https://raw.githubusercontent.com/frthetrash/frthetrash.github.io/refs/heads/main/png.png" class="preview-logo" alt="Preview Logo">
        <div id="preview-links"></div>
      </div>
    </div>
  </div>
  <script>
    // ========== Data ==========
    let links = [
      {
        title: "My Website",
        url: "https://frthetrash.github.io",
        isActive: true,
        clicks: 124,
      },
      {
        title: "YouTube Channel",
        url: "https://youtube.com",
        isActive: true,
        clicks: 215,
      },
      {
        title: "Instagram",
        url: "https://instagram.com",
        isActive: false,
        clicks: 40,
      },
    ];
    // ========== Drag State ==========
    let dragIdx = null;
    let dragOverIdx = null;

    // ========== Rendering ==========
    function renderLinksEditor() {
      const editor = document.getElementById('links-editor');
      editor.innerHTML = '';
      links.forEach((l, idx) => {
        const row = document.createElement('div');
        row.className = 'link-row';
        row.draggable = true;
        row.dataset.idx = idx;

        // Drag handle
        const drag = document.createElement('span');
        drag.className = 'drag-handle fa fa-grip-vertical';
        drag.title = 'Drag to reorder';
        drag.addEventListener('mousedown', e => { dragIdx = idx; });

        // Drag events for row
        row.addEventListener('dragstart', function(e) {
          dragIdx = idx;
          row.style.opacity = 0.52;
        });
        row.addEventListener('dragend', function(e){
          row.style.opacity = 1;
          dragIdx = null;
          dragOverIdx = null;
        });
        row.addEventListener('dragover', function(e){
          e.preventDefault();
          dragOverIdx = idx;
        });
        row.addEventListener('drop', function(e){
          e.preventDefault();
          if (dragIdx === null || dragIdx === idx) return;
          const moved = links.splice(dragIdx, 1)[0];
          links.splice(idx, 0, moved);
          dragIdx = null;
          dragOverIdx = null;
          renderAll();
        });

        // Title input
        const title = document.createElement('input');
        title.className = 'link-input';
        title.placeholder = 'Link Title';
        title.maxLength = 40;
        title.value = l.title;
        title.addEventListener('input', e => {
          links[idx].title = e.target.value;
          renderPreview();
        });

        // URL input
        const url = document.createElement('input');
        url.className = 'link-input';
        url.placeholder = 'https://example.com';
        url.type = 'url';
        url.value = l.url;
        url.pattern = "^https?://.*";
        url.addEventListener('input', e => {
          links[idx].url = e.target.value;
          renderPreview();
        });

        // Active switch
        const switchWrap = document.createElement('label');
        switchWrap.className = 'switch';
        const activeCheck = document.createElement('input');
        activeCheck.type = 'checkbox';
        activeCheck.checked = l.isActive;
        const slider = document.createElement('span');
        slider.className = 'slider';
        activeCheck.addEventListener('change', e => {
          links[idx].isActive = activeCheck.checked;
          renderPreview();
        });
        switchWrap.appendChild(activeCheck);
        switchWrap.appendChild(slider);

        // Click count (readonly for demonstration)
        const clickMetric = document.createElement('span');
        clickMetric.style="color:var(--text-muted);font-size:0.92em;margin-left:7px;width:40px;";
        clickMetric.textContent = l.clicks + " clicks";

        // Delete button
        const delBtn = document.createElement('button');
        delBtn.className = 'delete-btn fa fa-trash';
        delBtn.title = 'Delete link';
        delBtn.addEventListener('click', e => {
          links.splice(idx, 1);
          renderAll();
        });

        // Fields
        const fields = document.createElement('div');
        fields.className = 'link-fields';
        fields.appendChild(title);
        fields.appendChild(url);

        row.appendChild(drag);
        row.appendChild(fields);
        row.appendChild(switchWrap);
        row.appendChild(clickMetric);
        row.appendChild(delBtn);

        editor.appendChild(row);
      });
    }
    function renderPreview() {
      const preview = document.getElementById('preview-links');
      preview.innerHTML = '';
      links.filter(l => l.isActive).forEach(l => {
        const a = document.createElement('a');
        a.className = 'preview-link fa fa-chevron-right';
        a.href = l.url;
        a.target = "_blank";
        a.innerHTML = '<span style="font-weight:600;">' + (l.title||'Title') + '</span>';
        a.addEventListener('click', () => {
          l.clicks++;
          renderAll();
        });
        preview.appendChild(a);
      });
    }
    function renderAnalytics() {
      // totals
      const totalClicks = links.reduce((a, l) => a + (parseInt(l.clicks)||0), 0);
      const totalViews = totalClicks * 15;
      const ctr = totalViews ? (totalClicks / totalViews * 100).toFixed(1) : '0';
      const followers = Math.round(totalClicks * 0.1);

      document.getElementById('metric-clicks').textContent = totalClicks;
      document.getElementById('metric-views').textContent = totalViews;
      document.getElementById('metric-ctr').textContent = ctr + "%";
      document.getElementById('metric-followers').textContent = followers;
    }
    function renderAll() {
      renderLinksEditor();
      renderPreview();
      renderAnalytics();
    }

    // ========== Handlers ==========
    document.getElementById('add-link-btn').onclick = function() {
      links.push({
        title: "",
        url: "",
        isActive: true,
        clicks: 0,
      });
      renderAll();
    };

    // Navigation
    document.getElementById('nav-links').onclick = function() {
      this.classList.add('active');
      document.getElementById('nav-analytics').classList.remove('active');
      document.getElementById('editor-card').style.display = "flex";
      document.getElementById('analytics-card').style.display = "none";
    };
    document.getElementById('nav-analytics').onclick = function() {
      this.classList.add('active');
      document.getElementById('nav-links').classList.remove('active');
      document.getElementById('editor-card').style.display = "none";
      document.getElementById('analytics-card').style.display = "flex";
    };

    // Init
    renderAll();

    // Clean up dnd edge-case
    document.addEventListener('mouseup', () => { dragIdx = null; dragOverIdx = null; });

  </script>
</body>
</html>
